	<!DOCTYPE html>
	<html>
	<head>
		<!-- set the title of you site -->
		<title>Lithium Battery India | Buy Battery storage renewable solar vision mechatronics vmechatronics.com</title>
		<!-- encoding -->
		<meta charset="utf-8">
		<!-- responsiveness, scaling... -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<!-- set the descritpion of you site -->
		<meta name="description" content="Vision Mechatronics operates in segments like research and development of Robotics, Industrial Automation and Renewable Energy. Our mission is to provide our customers with complete tailor made solutions that are customized to their specific needs and requirements.">
		<!-- set author of your site -->
		<meta name="author" content="">

		<meta name="keywords" content="solar,grid,energy,electicity,battery,lithium,li-ion,ion,li,internet,storage,renewable,technology">
		<!-- IE compatibility modes -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!-- custom styling -->
		<link href="css/style.css" rel="stylesheet">
		<!-- iconic font - FontAwesome -->
		<!-- Google font -->
		<link href='http://fonts.googleapis.com/css?family=Voltaire' rel='stylesheet' type='text/css'>
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<!-- site thumbnail -->
		<link rel="image_src" href="thumbnail.png" />
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="favicon.ico">
		<!--Import Google Icon Font-->
		<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<!--Import materialize.css-->
		<link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
		<link type="text/css" rel="stylesheet" href="materialize/css/materialize.css"  media="screen,projection"/>
		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="materialize/js/materialize.min.js"></script>

		<script src= "https://www.payumoney.com/Api/REST/op/buttonScript" async="true"></script>

 
		

		<script type="text/javascript">

			$(document).ready(function() {
				$('select').material_select();
			});
			$(document).ready(function() {
				Materialize.updateTextFields();
			});
			
		</script>
		<style type="text/css">
			body{
				color:black;
			}

			input[type=number]::-webkit-outer-spin-button,
			input[type=number]::-webkit-inner-spin-button {
				-webkit-appearance: none;
				margin: 0;
			}

			input[type=number] {
				-moz-appearance:textfield;
			}
			.card{
				background-color: #fff;
			}
			blockquote {

				border-left: 5px solid #0097a7;
			}
			.toast{
				background: #76ff03;
				color:black;
			}
			body{
				background-image:url(img/black3.jpg);
				background-repeat: no-repeat;
				background-size:cover; 
			}
			.slider .indicators{
				display: none;
			}
		</style>
	</head>
	
	
	<script type="text/javascript">

		function display4(obj,id1,id2) {
			txt = obj.options[obj.selectedIndex].value;
			document.getElementsByName(id1).style.display = 'none';
			if ( txt.match(id1) ) {
				document.getElementsByName(id1)[0].elements.style.display = 'block';
				document.getElementsByName(id2)[0].elements.style.display = 'block';
			}
			
		} 
		function display(obj,id1,id2) {
			txt = obj.options[obj.selectedIndex].value;
			document.getElementById(id1).style.display = 'none';
			document.getElementById(id2).style.display = 'none';
			if ( txt.match(id1) ) {
				document.getElementById(id1).style.display = 'block';
			}
			if ( txt.match(id2) ) {
				document.getElementById(id2).style.display = 'block';
			}
		} 
		function display1(obj,id1,id2,id3,id4,id5,id6) {
			txt = obj.options[obj.selectedIndex].value;
			document.getElementById(id1).style.display = 'none';
			document.getElementById(id2).style.display = 'none';
			document.getElementById(id3).style.display = 'none';
			document.getElementById(id4).style.display = 'none';
			document.getElementById(id5).style.display = 'none';
			document.getElementById(id6).style.display = 'none';
			if ( txt.match(id1) ) {
				document.getElementById(id1).style.display = 'block';
				document.getElementById(id4).style.display = 'block';
			}
			if ( txt.match(id2) ) {
				document.getElementById(id2).style.display = 'block';
				document.getElementById(id5).style.display = 'block';
			}
			if ( txt.match(id3) ) {
				document.getElementById(id3).style.display = 'block';
				document.getElementById(id6).style.display = 'block';
			}
		} 
		function display2(obj,id1,id2,id3,id4) {
			txt = obj.options[obj.selectedIndex].value;
			document.getElementById(id1).style.display = 'none';
			document.getElementById(id2).style.display = 'none';
			document.getElementById(id3).style.display = 'none';
			document.getElementById(id4).style.display = 'none';
			
			if ( txt.match(id1) ) {
				document.getElementById(id1).style.display = 'block';
				document.getElementById(id3).style.display = 'block';
			}
			if ( txt.match(id2) ) {
				document.getElementById(id2).style.display = 'block';
				document.getElementById(id4).style.display = 'block';
			}
			
			
		} 
		function display3(obj,id1,id2,id3,id4,id5,id6) {
			txt = obj.options[obj.selectedIndex].value;
			document.getElementById(id1).style.display = 'none';
			document.getElementById(id2).style.display = 'none';
			document.getElementById(id3).style.display = 'none';
			document.getElementById(id4).style.display = 'none';
			document.getElementById(id5).style.display = 'none';
			document.getElementById(id6).style.display = 'none';
			
			if ( txt.match(id1) ) {
				document.getElementById(id1).style.display = 'block';
				document.getElementById(id4).style.display = 'block';
			}
			if ( txt.match(id2) ) {
				document.getElementById(id2).style.display = 'block';
				document.getElementById(id5).style.display = 'block';
			}
			if ( txt.match(id3) ) {
				document.getElementById(id3).style.display = 'block';
				document.getElementById(id6).style.display = 'block';
			}
			
		} 
	</script>
	
	<body >
		<?php
		$legal=-1;
		ob_start();
		define('DB_SERVER', 'localhost');
		define('DB_USERNAME', 'root');
		define('DB_PASSWORD', 'Vision@123');
		define('DB_DATABASE', 'solar_db');
		$connection = mysql_connect(DB_SERVER, DB_USERNAME, DB_PASSWORD,DB_DATABASE) or die(mysql_error());
		$database = mysql_select_db(DB_DATABASE) or die(mysql_error());

		?>

		<?php include 'nav.php' ?>
		<?php include 'calculator-modals.php' ?>



		<script type="text/javascript">
			$(document).ready(function(){
				$('.slider').slider({full_width: false,
					height:450
				});
					


					var scroll_start = 0;
					var startchange = $('.nav_change');
					var offset = startchange.offset();
					$(document).scroll(function() { 
						scroll_start = $(this).scrollTop();
						if(scroll_start >  $(window).height()) {
							$('.nav_change').css('background-color', 'rgba(0,151,167,1)');
						} else {
							$('.nav_change').css('background-color', 'rgba(0,151,167,0.3)');
						}
					});
				});
			</script>
			<div class="slider" style="position: relative;top: -5rem;height:420px !important;">
				<ul class="slides">
					<li>
						<img src="img/solar-panel-1.png"> <!-- random image -->
						<div class="caption left-align">
							<br/><br/>
							<h3 style="color:black;"><b>Brighten your day with a solar array!</b></h3>
							<h5 class="light grey-text text-lighten-3"></h5>
						</div>
					</li>

					<li>
						<img src="img/solar-panels-3.jpg"> <!-- random image -->
						<div class="caption left-align">
							<br/><br/>
							<h3 style="color:black;"><b>See the sunny side of life and make your life sunnier by using solar energy!</b></h3>
							<h5 class="light grey-text text-lighten-3"></h5>
						</div>
					</li>
					<li>
						<img src="img/solar-panel-4.jpg"> <!-- random image -->
						<div class="caption left-align">
							<br/><br/>
							<h3 style="color:black;"><b>Energize the future with solar power!</b></h3>
							<h5 class="light grey-text text-lighten-3"></h5>
						</div>
					</li>
				</ul>
			</div>
			<div class="row">
				<form class="col l8 s12 m12 offset-l2" method="post" action="#" >
					<div class="card" style="border:0px solid #0097a7;">
						<div class="row">
							<div class="col l8 offset-l2 m12 s12">
								<br/>
								<div class="row">
									<div class="col l3 s3 m2 offset-m2 offset-s2" > 
										<a onmouseenter="Materialize.toast('Go Green! Go Solar!', 1000)"><img  src="img/calculator.svg" height="100rem" width="100%" /></a>
									</div>

									<div class="col l9 m5 s4  ">

										<h1 size="18" style="color:#0097a7; font-weight:900; font-size:2.60em; float:left; text-align:left "><b>Solar <span style=" color:black;">Calculator</span></b></h1> 
									</div>
								</div>
								<br/>


								<div class="row">
									<div class="col l4 s9 offset-s2 pull-s1 m5 input-field" onchange="display4(this,'Karnataka','iKarnataka');">  

										<select id="state1" name="state1" >
											<option  value="0" style="color:black;" disabled selected >Select</option>
											<option  value="8" >Andhra Pradesh</option>
											<option  value="9" style="color:black">Assam</option>
											<option  value="10" style="color:black">Bihar</option>
											<option  value="11" style="color:black">Chhattisgarh</option>
											<option  value="24" style="color:black">Goa</option>
											<option  value="4" style="color:black">Gujarat</option>
											<option  value="12" style="color:black">Haryana</option>
											<option  value="18" style="color:black">Himachal Pradesh</option>
											<option  value="23" style="color:black">Jharkhand</option>
											<option  value="13" name="Karnataka" style="color:black">Karnataka</option>
											<option  value="22" style="color:black">Kerala</option>
											<option  value="2" style="color:black">Madhya Pradesh</option>
											<option  value="1" style="color:black">Maharashtra</option>
											<option  value="19" style="color:black">Manipur</option>
											<option  value="21" style="color:black">Meghalaya</option>
											<option  value="5" style="color:black">Odisha (Orissa)</option>
											<option  value="7" style="color:black">Punjab</option>
											<option  value="17" style="color:black">Rajasthan</option>
											<option  value="3" style="color:black">Tamil Nadu</option>
											<option  value="20" style="color:black">Telangana</option>
											<option  value="14" style="color:black">Uttar Pradesh</option>
											<option  value="15" style="color:black">Uttarakhand</option>
											<option  value="16" style="color:black">West Bengal</option>
											<option value="Union" style="color:black" disabled  >-----------------------<b>Union territories</b>-----------------</option>
											<option  value="25" style="color:black">Andaman and Nicobar Islands</option>
											<option  value="26" style="color:black">Chandigarh</option>
											<option  value="27" style="color:black">Dadra and Nagar Haveli</option>
											<option value="28" style="color:black">Daman and Diu</option>
											<option  value="29" style="color:black">Lakshadweep</option>
											<option  value="6" style="color:black">Delhi - National Capital Territory</option>
											<option value="30" style="color:black">Puducherry (Pondicherry)</option>
										</select>
										<label style="color:black;font-size:20px;"><b>STATE</b></label>

									</div>
									
									<div class="col l1 s1 m1">
										<a href="#state" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>

									</div>
									<div class="input-field col l3 s9 offset-s2 m4 offset-m7 pull-m7 pull-s1 " style="position: relative;top: -2rem;">
										<span style="position: relative;top: 2.7rem;color:transparent;">&#8377;</span>
										<input id="input_units" type="number" name="input_units"  value="<?php echo htmlspecialchars($_POST['input_units']); ?>" />
										<label for="input_units" style="transform: translateY(0%);">Total Units</label>
									</div>
									<div class="input-field col  l3  m4 offset-m7 pull-m7 s9 offset-s2 pull-s1" style="position: relative;top: -2rem;">
										<span style="position: relative;top: 2.7rem;">&#8377;</span>
										<input id="cost_per_unit" style="padding-left: 1.1rem;"  type="text" name="cost_per_unit" value="<?php echo htmlspecialchars($_POST['cost_per_unit']); ?>" />
										<label for="cost_per_unit" style="transform: translateY(0%);">Cost Per Unit</label>
									</div>
								</div>
								<div class="row">
									<div class="input-field col l5 s9 offset-s1  m5">
										<span style="position: relative;top: 2.7rem;font-size: 18px;float:right;">Sq. Ft.</span>
										<input id="area" maxlength="12" type="text" name="area" value="<?php echo htmlspecialchars($_POST['area']); ?>" /><!--Calls function-->
										<label for="area" style="transform: translateY(0%);">Available Shadow Free Area  </label>
									</div>
									<div class="col l1 s1 m1">
										<a href="#area1" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 4rem;"></a>

									</div>
									
									<div class="input-field col l5  s9 offset-s2 pull-s1 m5 offset-m1">
										<span style="position: relative;
										top: 2.7rem;font-size: 18px;float:right;">KW</span>
										<input id="load_type" type="text" maxlength="12" name="load_type" value="<?php echo htmlspecialchars($_POST['load_type']); ?>" required /><!--Calls function-->
										<label for="load_type" style="transform: translateY(0%);"	> Sanction Load/Connected Load (In KW)  </label>
									</div>
								</div>
								
								<div class="row">
									<div class="col l5 s9 offset-s2 pull-s1 m5 input-field">

										<select  style="color:black" name="type" onchange="display2(this,'dom','comm','idom','icomm');">
											<option  value="0" style="color:black;" disabled selected>Select</option>
											<option  value="domestic" >Domestic</option>
											<option  value="commercial" style="color:black">Commercial</option>
										</select>
										<label style="color:black;font-size:20px;">Customer Type</label>
									</div>
									<div class="col l5 offset-l1 s9 offset-s1  m5 offset-m1 input-field">
										<div id="dom">

											<select id="domestic" style="color:black" name="domestic">  
												<option  value="0" style="color:black;" disabled selected>Select</option>
												<option  value="lt1p" >LT 1 phase</option>
												<option value="lt3p" style="color:black">LT 3 phase</option>
											</select>
											<label style="color:black;font-size:20px;">Type of Connection</label>
										</div>

									</div>
									<div class="col l1 s1 m1">
										<div id="idom" style="display:none" >
											<a href="#con-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>
										</div>
									</div>
									<div class="col l5 offset-l1 s9 offset-s1  m5 offset-m1 input-field" style="position: relative;top: -1rem;">
										<div id="comm" style="display:none" >

											<select id="commercial" style="color:black" name="commercial">  
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option  value="lt1p" >LT 1 phase</option>
												<option value="lt3p" style="color:black">LT 3 phase</option>
												<option  value="ht415" style="color:black">HT 415 V</option>
												<option  value="ht11" style="color:black">HT 11 KV & above</option>
											</select>
											<label style="color:black;font-size:20px;">Type of Connection</label>
										</div>
									</div>
									<div class="col l1 s1 m1">
										<div id="icomm" style="display:none" >
											<a href="#con-type1" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 1rem;"></a>
										</div>
									</div>

									
									





								</div>	


								<div class="row">
									<div class="input-field col l5 s9 offset-s2 pull-s1 m5">
										<select id="installation_type" style="color:black" name="installation_type" onchange="display(this,'roof_top','ground');">  
											<option  value="0" style="color:black;" disabled selected>Select</option>
											<option  value="ground" >Ground Mount</option>
											<option  value="roof_top" style="color:black">Roof Top</option>
										</select>
										<label style="color:black;font-size:20px;">Installation Type</label>
									</div>

									<div class="input-field col l5 offset-l1 s9 offset-s1  m5 offset-m1">
										<select id="solar_type" style="color:black" name="solar_type" onchange="display1(this,'ongrid','offgrid','hybrid','iongrid','ioffgrid','ihybrid');">  
											<option value="0" style="color:black;" disabled selected>Select</option>
											<option  value="ongrid" >On Grid Solar System</option>
											<option  value="offgrid" style="color:black">Off Grid Solar System</option>
											<option value="hybrid" style="color:black">Hybrid Solar System</option>
										</select>
										<label style="color:black;font-size:20px;">Solar System Type</label>
									</div>
									<div class="col l1 s1 m1">

										<a href="#solar-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>

									</div>
									
								</div>



								<div class="row">
									<div class="input-field col  l5 s9 offset-s2 pull-s1 m5 ">
										<select id="power_cut" style="color:black" name="power_cut">  
											<option style="color:black;" disabled selected>Select</option>
											<option  value="0" >0 Hr</option>
											<option  value="1" >1 Hr</option>
											<option  value="2" >2 Hrs</option>
											<option  value="3" >3 Hrs</option>
											<option  value="4" >4 Hrs</option>
											<option  value="5" >5 Hrs</option>
											<option  value="6" >6 Hrs</option>
											<option  value="7" >7 Hrs</option>
											<option  value="8" >8 Hrs</option>
											<option  value="9" >9 Hrs</option>
											<option  value="10" >10 Hrs</option>
											<option  value="11" >11 Hrs</option>
											<option  value="12" >12 Hrs</option>
											<option  value="13" >13 Hrs</option>
											<option  value="14" >14 Hrs</option>
											<option  value="15" >15 Hrs</option>
											<option  value="16" >16 Hrs</option>
											<option  value="17" >17 Hrs</option>
											<option  value="18" >18 Hrs</option>
											<option  value="19" >19 Hrs</option>
											<option  value="20" >20 Hrs</option>
											<option  value="21" >21 Hrs</option>
											<option  value="22" >22 Hrs</option>
											<option  value="23" >23 Hrs</option>
											<option  value="24" >24 Hrs</option>
										</select>
										<label style="color:black;font-size:20px;">Power power_cut</label>
									</div>

									
									<div class="input-field col l5 offset-l1 s9 offset-s1  m5 offset-m1">
										<div id="Karnataka" style="display:none" >
										<select id="meter_type" style="color:black" name="meter_type">  
											<option value="0" style="color:black;" disabled selected>Select</option>
											<option  value="net" >Net Metering</option>
											<option  value="gross" style="color:black">Gross Metering</option>
										</select>
										<label style="color:black;font-size:20px;">Metering Type</label>
										
									</div>
									<div class="col l1 s1 m1">
										<div id="iKarnataka" style="display:none" >
										<a href="#metering-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>
										</div>
									</div>
									

								</div>
								</div>


								<div id="ground"></div>
								<div class="row">
									<div class="input-field col l5 s9 offset-s1  m5">
										<div id="roof_top" >

											<select id="roof_type" style="color:black" name="roof_type"   onchange="display3(this,'flat','shed','others','iflat','ished','iothers');">  
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option  value="flat" >Flat</option>
												<option  value="shed" style="color:black">Shed</option>
												<option  value="others" style="color:black">Gable or saddle roof</option>
												<option  value="others" style="color:black">Ridged Multi Gable</option>
												<option  value="others" style="color:black">Saw tooth </option>
											</select>		
											<label style="color:black;font-size:20px;">Roof Top Type</label>
										</div>
									</div>
									<div class="col l1 s1 m1">

										<a href="#roof-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>

									</div>

									<div class="input-field col l5  s9 offset-s1  m5 " >

										<div id="shed"  style="display:none;">

											<select id="shed_type" style="color:black" name="shed_type" > 
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option  value="tin" style="color:black">Tin Shed</option>
												<option  value="asbestos" style="color:black">Asbestos</option>
												
											</select>
											<label style="color:black;font-size:20px;">Shed Type</label>
										</div>
									</div>
									<div class="col l1 s1 m1">
										<div id="ished"  style="display:none;">
											<a href="#shed-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>
										</div>
									</div>
									<div class="input-field col l5  s9 offset-s1  m5 " style="position:relative;top:-1rem;">
										<div id="flat" style="display:none;">

											<select id="mount_type" style="color:black" name="mount_type" >  
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option  value="panda_bear" style="color:black">Panda Bear</option>
												<option  value="cement_base" style="color:black">Cement Base</option>
											</select>
											<label style="color:black;font-size:20px;">Mounting Type</label>
										</div>
									</div>
									
									<div class="col l1 s1 m1">
										<div id="iflat"  style="display:none;">
											<a href="#mount-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 1rem;"></a>
										</div>
									</div>
									<!-- added another -->
									<div class="input-field col l5  s9 offset-s1 m5 " style="position:relative;top:-1rem;">
										<div id="others" style="display:none;">

											<select id="mount_type" style="color:black" name="mount_type" >  
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option  value="s5" style="color:black">S5</option>
												
											</select>
											<label style="color:black;font-size:20px;">Mounting Type</label>
										</div>
									</div>
									<div class="col l1 s1 m1">
										<div id="iothers"  style="display:none;">
											<a href="#shed-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>
										</div>
									</div>
									<!-- end -->

									

									
								</div>



								<div class="row">
									<div class="input-field col l5 s9 offset-s1 m5">
										<select id="solar_panel" style="color:black" name="solar_panel">  
											<option value="0" style="color:black;" disabled selected>Select</option>
											<option  value="vikram" >Vikram Solar</option>
											<option  value="deshmukh" style="color:black">Deshmukh Solar</option>
											<option  value="jj" style="color:black">JJ Solara</option>
											<option  value="emmvee" style="color:black">EMMVEE</option>
											<option  value="pv" style="color:black">PV Powertech</option>
											<option  value="trina" style="color:black">Trina Solar</option>
											<option  value="deshmukh" style="color:black">Deshmukh Solar</option>
											<option  value="rolta" style="color:black">Rolta</option>
											<option  value="navita" style="color:black">Navita Solar</option>
										</select>
										<label style="color:black;font-size:20px;">Solar Panel</label>
									</div>
									<div class="col l1 s1 m1">

										<a href="#panel-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>

									</div>
									
									<div class="input-field col l5 s9 offset-s1 m5 " >

										<div id="ongrid" style="display:none;">

											<select id="inverter_type" style="color:black" name="inverter_type">  
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option  value="kaco" >Kaco</option>
												<option  value="delta" style="color:black">Delta</option>
												<option  value="voltronics" style="color:black">Voltronics</option>

											</select>
											<label style="color:black;font-size:20px;">Inverter Type</label>
										</div>
									</div>
									<div class="col l1 s1 m1">
										<div id="iongrid" style="display:none;">
											<a href="#inverter-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>
										</div>
									</div>
									
									<div class="input-field col l5 s9 offset-s1 m5 " style="position: relative;top: -1rem;">
										<div id="offgrid" style="display:none;">

											<select id="inverter_type" style="color:black" name="inverter_type">  
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option value="voltronics" style="color:black">Voltronics</option>
											</select>
											<label style="color:black;font-size:20px;">Inverter Type</label>
										</div>
									</div>
									<div class="col l1 s1 m1">
										<div id="ioffgrid" style="display:none;">
											<a href="#inverter-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 1rem;"></a>
										</div>
									</div>
									<div class="input-field col l5 s9 offset-s1 m5 " style="position: relative;top: -2rem;">
										<div id="hybrid" style="display:none;">

											<select id="inverter_type" style="color:black" name="inverter_type">  
												<option value="0" style="color:black;" disabled selected>Select</option>
												<option  value="voltronics" style="color:black">Voltronics</option>
												<option  value="studer" style="color:black">Studer</option>
											</select>
											<label style="color:black;font-size:20px;">Inverter Type</label>
										</div>
									</div>
									<div class="col l1 s1 m1">
										<div id="ihybrid" style="display:none;">
											<a href="#inverter-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 0rem;"></a>
										</div>
									</div>
									

									
								</div>
								<div class="row">
									<div class="input-field col l5 s9 offset-s1 m5">
										<select id="wire_type" style="color:black" name="wire_type" style="width:150px">  
											<option value="0" style="color:black;" disabled selected>Select</option>
											<option  value="lapp" >Lapp</option>
											<option  value="polycab" style="color:black">Polycab</option>
											<option  value="ae_solar" style="color:black">AE Solar</option>
										</select>
										<label style="color:black;font-size:20px;">Wire Type</label>
									</div>
									<div class="col l1 s1 m1">

										<a href="#wire-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>

									</div>
									
									
									<div class="input-field col l5 s9 offset-s1 m5  " style="position: relative;top: 0rem;">
										<select id="nut_type" style="color:black" name="nut_type" style="width:150px">  
											<option value="0" style="color:black;" disabled selected>Select</option>
											<option  value="galvanised" >Galvanised</option>
											<option  value="stainless_steel" style="color:black">Stainless Steel</option>
										</select>
										<label style="color:black;font-size:20px;">Nut Type</label>
									</div>
									<div class="col l1 s1 m1">

										<a href="#nut-type" class="modal-trigger"><img src="img/info.png" style="position: relative;top: 2rem;"></a>

									</div>
									

									
								</div>

								<br>
								<div class="row">
									<div class="col l3 s6 m5" style="margin-left:-25%;bottom: -2rem;position: relative;max-width: 1165px;"> 
										<img style=" max-height:102px" src="img/cyan.jpg" height="150rem " width="100%">
									</div>

									<div class="col l1 m5 s4  ">

										<h1 size="18" style="color:#0097a7; font-weight:900; font-size:2.60em; float:left; text-align:left "><b>Personal <span style=" color:black;">Info</span></b></h1> 
									</div>
								</div>


								<div class="row">
									<div class="input-field col s12 m5">
										<i class="material-icons prefix">account_circle</i>
										<input id="name" type="text" name="name" value="<?php echo htmlspecialchars($_POST['name']); ?>"  />
										<label for="name">Name</label>
									</div>
									<div class="input-field col s12 m5 offset-m1">
										<i class="material-icons prefix">mail</i>
										<input id="email" type="email" name="email" value="<?php echo htmlspecialchars($_POST['email']); ?>" />
										<label for="email">Email</label>
									</div>
									<div class="input-field col s12 m5">
										<i class="material-icons prefix">phone</i>
										<input id="mobile" type="tel" name="mobile" value="<?php echo htmlspecialchars($_POST['mobile']); ?>" />
										<label for="mobile">Mobile</label>
									</div>
									<div class="input-field col s12 m5 offset-m1">
										<i class="material-icons prefix">location_on</i>
										<input id="address" type="text" name="address" value="<?php echo htmlspecialchars($_POST['address']); ?>" required/> 
										<label for="address">Address</label>
									</div>


								</div>

								<center><button class="btn-large waves-effect waves-light cyan darken-2" type="submit" name="submit">Submit
									<i class="material-icons right">send</i>
								</button></center>
								
								<span class='pm-button' 
 id='5B4788BFEF8E96700DB25259AF2F34A3'
 onclick="window.PUM.pay()">
    <span class="state active">
        <input type="image" src="https://file.payumoney.com/images/payby_payumoney/buttons/312.png" width="131" height="37">
    </span>
    <span class="state clicked" style="display:none" >
       <input type="image" src="https://file.payumoney.com/images/payby_payumoney/buttons/314.png" width="131" height="37">
    </span> 
</span>
							
								<br/>

							</div>
						</div>
					</div>
				</form>
			</div>
				<?php include 'footer.php' ?>
		<?php
		
		error_reporting(E_ALL ^ E_DEPRECATED);


		if(isset($_POST['submit']))
		{
		//converting page into pdf

			function smallest($a,$b)
			{
				if($a<$b)
				{

					return $a;
				}
				else
				{


					return $b;


				}
			}


			$selected_state = $_POST['state1'];
			$query = "SELECT * FROM `state` WHERE `id` =$selected_state";
			$comments = mysql_query($query,$connection);
			if(! $comments ) 
			{
				die('Could not get data: ' . mysql_error());
			}
			while($row = mysql_fetch_array($comments, MYSQL_ASSOC))
			{
				$sancperc = $row['sanction_percentage'];
				$ltmin = $row['lt(1p)min'];
				$ltmax = $row['lt(1p)'];
				$lt3 = $row['lt(3p)min'];
				$lt3max = $row['lt(3p)'];
				$ht415 = $row['ht(415)min'];
				$ht415max = $row['ht(415)'];
				$ht11 = $row['ht(11)min'];
				$ht11max = $row['ht(11)'];
				$per_day_gen1 = $row['per_day_gen'];
				$gen_limit_table = $row['generation_limit'];
				$tarrif = $row['tarrif'];
			}

			//taking input from form
			$power_cut = $_POST['power_cut'];
			$solar_type = $_POST['solar_type'];
			$unit_cost = $_POST['cost_per_unit'];
			$sanc_load = $_POST['load_type'];
			$area = $_POST['area'];
			$input_units = $_POST['input_units'];
			$final_area = $area / 100;
			$final_sanc = $sanc_load * $sancperc;
			$customer_type = $_POST['type'];
			echo "<br>customer type ".$customer_type;
			$inverter_name = $_POST['inverter_type'];
			$solar_panel = $_POST['solar_panel'];

			//checking customer type
			if($customer_type =="domestic")
			{

				$con_type = $_POST['domestic'];
				echo "<br>connection type ".$con_type;
				if($con_type=="lt1p")
				{

					$smallest1 = smallest($final_area,$final_sanc);

					if($smallest1>=$ltmin && $smallest1<=$ltmax)
					{
						$legal = intval($smallest1);
						echo "<br>Plant Size: ".$legal."<br>";
					}
					else
					{

						echo "<br>Minimun power for this state is ".$ltmin."Kw and maximum is ".$ltmax." Kw";
					}
				}
				elseif($con_type=="lt3p")
				{

					$smallest1 = smallest($final_area,$final_sanc);

					if($smallest1>=$lt3 && $smallest1<=$lt3max)
					{
						$legal = intval($smallest1);
						echo "<br>Plant Size: ".$legal."<br>";
					}
					else
					{

						echo "<br>Minimun power for this state is ".$lt3."Kw and maximum is ".$lt3max." Kw";
					}
				}
			}

			else
			{
				$con_type = $_POST['commercial'];
				echo "<br>connection type ".$con_type;
				if($con_type=="lt1p")
				{

					$smallest1 = smallest($final_area,$final_sanc);

					if($smallest1>=$ltmin && $smallest1<=$ltmax)
					{
						$legal = intval($smallest1);
						echo "<br>Plant Size: ".$smallest1."<br>";
					}
					else
					{

						echo "Minimun power for this state is ".$ltmin."Kw and maximum is ".$ltmax." Kw";
					}

				}
				elseif($con_type=="lt3p")
				{

					$smallest1 = smallest($final_area,$final_sanc);

					if($smallest1>=$lt3 && $smallest1<=$lt3max)
					{
						$legal = intval($smallest1);
						echo "<br>Plant Size: ".$legal."<br>";
					}
					else
					{

						echo "Minimun power for this state is ".$lt3."Kw and maximum is ".$lt3max." Kw";
					}
				}
				elseif($con_type=="ht415")
				{

					$smallest1 = smallest($final_area,$final_sanc);
					if($smallest1>=$ht415 && $smallest1<=$ht415max)
					{


						$legal = intval($smallest1);
						echo "<br>Plant Size: ".$legal."<br>";
					}
					else
					{

						echo "Minimun power for this state is ".$ht415."Kw and maximum is ".$ht415max." Kw";
					}
				}
				elseif($con_type=="ht11kv")
				{

					$smallest1 = smallest($final_area,$final_sanc);

					if($smallest1>=$ht11 && $smallest1<=$ht11max)
					{
						$legal = intval($smallest1);
						echo "<br>Plant Size: ".$legal."<br>";
					}
					else
					{
						echo "Minimun power for this state is ".$ht11." Kw and maximum is ".$ht11max." Kw";
					}
				}

			}

			if($legal!=-1)
			{
				$yearly_units = $input_units *12;
				$stored_legal = $legal;
				$daily_power = $per_day_gen1 * $legal;
				echo "<br>Daily power ".$daily_power;
				$yearly_power = $daily_power * 365;
				echo "<br>yearly power ".$yearly_power;
				$gen_limit = $yearly_units * $gen_limit_table;
				echo "<br>generation limit ".$gen_limit;
				if($yearly_units<=$gen_limit)
				{
					$finalx = $yearly_power;
				}
				else
				{
					$finalx = $gen_limit;

				}
				$diff = $yearly_units - $finalx;

				if($diff>0)
				{

					$final_value = $diff * $unit_cost;
					echo "<br>Value you are paying to grid Rs   ".$final_value."<br>"; 
				}
				else
				{

					$total_profit = $tarrif * $diff *-1;
					echo "<br> Your savings Rs ".$total_profit."<br>";
				}

				$query = "SELECT * FROM $inverter_name where $solar_type > 0 ";
				$comments = mysql_query($query,$connection);
				$num = mysql_num_rows($comments);
				if($num!=0)
				{


					if(! $comments ) 
					{
						die('Could not get data: ' . mysql_error());
					}

					while($row = mysql_fetch_array($comments, MYSQL_ASSOC))
					{

						$sizeofmax[] = $row['size'];
						$costofmax[] = $row[$solar_type];

					}
					for($i=0;$i<$num;$i++)
					{
						if($costofmax[$i] == 0)
						{
							continue;
						}
						else
						{
							$num = $num - 1;
							$j = 0;
							for($i = sizeof($sizeofmax) - 1; $i >=0 ; $i--)
							{
								$cmp[$j] = $sizeofmax[$i];
								$j=$j + 1;
							}
							$j=0;
							for($i = sizeof($costofmax) - 1; $i >=0 ; $i--)
							{
								$cost_new[$j] = $costofmax[$i];
								$j=$j + 1;
							}
							$quan = array();
							for($i = 0; $i < sizeof($cmp); $i++ )
							{
								$quan[$i] = 0;
							}
							for($i = 0; $i < sizeof($cmp); $i++)
							{
								if( $cmp[$i] < $legal)
								{
									if($i == 0)
									{
										$quan[$i] = $quan[$i] + intval($legal/$cmp[$i]);
										$legal = fmod($legal, $cmp[$i]);
									}
									else
									{
										$quan[$i-1] = $quan[$i-1] + 1;
										$legal = 0;

									}	
								}
							}
							if($legal > 0)
							{
								$quan[$num] = $quan[$num] + 1;
							}
							$tot = 0;
							for($i = 0; $i < sizeof($sizeofmax);$i++)
							{
								$tot = $tot + $quan[$i]*$cost_new[$i];
							}
							echo "Costs of per Types: ";						
							print_r($cmp);

							echo "<br><br>Quantity required";
							print_r($cost_new);
							echo "<br><br>TOTAL EXPENSE of $inverter_name inverter  : ".$tot;
						}
					}
					// inverter part calculations done
					if($power_cut==0)
					{
						echo "<br>Our recommendation : Ongrid Solar System";
					}
					elseif($power_cut>1 && $power_cut<24)
					{
						echo "<br>Our recommendation : Hybrid Solar System";
					}
					else
					{
						echo "<br>Our recommendation : Offgrid Solar System";
					}
					//SOLAR PANEL CALCULATIONS START FROM HERE
					echo "<br>";
					$query = "SELECT name,cost FROM solar_panel where name='$solar_panel'" ;
					$comments = mysql_query($query,$connection);
					$num = mysql_num_rows($comments);
					if(! $comments ) 
					{
						die('Could not get data: ' . mysql_error());
					}

					while($row = mysql_fetch_array($comments, MYSQL_ASSOC))
					{

						$panel_cost = $row['cost'];
						$panel_name = $row['name'];

					}
					echo "<br>Cost of ".$panel_name." is ".$panel_cost."<br>";

					//mounting structure starts from here	

					$roof_type = $_POST['roof_type'];
					$shed_type = $_POST['shed_type'];
					$mount_type = $_POST['mount_type'];
					if($roof_type=="flat")
					{


						$query = "SELECT name,cost FROM mounting_structure where id>='1' AND id<='2'" ;
						$comments = mysql_query($query,$connection);
						$num = mysql_num_rows($comments);
						if(! $comments ) 
						{
							die('Could not get data: ' . mysql_error());
						}

						while($row = mysql_fetch_array($comments, MYSQL_ASSOC))
						{

							$mounting_cost[] = $row['cost'];
							$mounting_name[] = $row['name'];

						}
						echo "Cost of ".$mounting_name[0]." is ".$mounting_cost[0]." per Kw (recommended)<br>";
						echo "Cost of ".$mounting_name[1]." is ".$mounting_cost[1]." per Kw";
						if($mount_type=="panda_bear")
						{
							echo "Total mounting cost ".$t_mount_cost = $mounting_cost[0] * $stored_legal;
						}
						else
						{
							echo "Total mounting cost ".$t_mount_cost = $mounting_cost[1] * $stored_legal;
						}

					}
					else
					{	//validation on shed type
						if($shed_type!="asbestos")
						{


							$query = "SELECT name,cost FROM mounting_structure where name='s5'" ;
							$comments = mysql_query($query,$connection);
							$num = mysql_num_rows($comments);
							if(! $comments ) 
							{
								die('Could not get data: ' . mysql_error());
							}

							while($row = mysql_fetch_array($comments, MYSQL_ASSOC))
							{

								$mounting_cost = $row['cost'];
								$mounting_name = $row['name'];

							}
							
							echo "<br>Cost of ".$mounting_name." is ".$mounting_cost." per Kw<br>";
							echo "t_mount_cost ".$t_mount_cost = $mounting_cost * $stored_legal."<br><br>";
						}
						else
						{
							echo "Mounting for Asbestos is not possible<br>";
						}
					}

					//validations on wire type 
					$wire_type = $_POST['wire_type'];
					$query = "SELECT name,cost FROM wire where name='$wire_type'" ;
					$comments = mysql_query($query,$connection);
					$num = mysql_num_rows($comments);
					if(! $comments ) 
					{
						die('Could not get data: ' . mysql_error());
					}

					while($row = mysql_fetch_array($comments, MYSQL_ASSOC))
					{
						$wire_cost = $row['cost'];
						$wire_name = $row['name'];
					}
					echo "Cost of ".$wire_type." is ".$wire_cost." per Kw<br>";
					echo "t_wire_cost ".$t_wire_cost = $wire_cost * $stored_legal."<br><br>";

					//validations on nut type 
					$nut_type = $_POST['nut_type'];
					$query = "SELECT name,cost FROM nuts where name='$nut_type'" ;
					$comments = mysql_query($query,$connection);
					$num = mysql_num_rows($comments);
					if(! $comments ) 
					{
						die('Could not get data: ' . mysql_error());
					}

					while($row = mysql_fetch_array($comments, MYSQL_ASSOC))
					{
						$nut_cost = $row['cost'];
						$nut_name = $row['name'];
					}
					echo "Cost of ".$nut_type." is ".$nut_cost." per Kw<br>";
					echo "t_nut_cost ".$t_nut_cost = $nut_cost * $stored_legal."<br>";
					$total = $tot + $panel_cost + $t_mount_cost +$t_wire_cost + $t_nut_cost;
					$total = $total + (0.3 * $total);
					$t_condition = $total;
					$display_total = $total ; //$total is for loop calculations
					//for adding commas in total
					setlocale(LC_MONETARY, 'en_IN');
					$display_total = money_format('%!i', $display_total);
					echo "<br>Total System Cost ".$display_total."<br><br>";
					
					
					$yearly_dep = array();
					$benifits = array();
					$t_benifit = 0;
					for($i=0;$t_benifit<=$t_condition;$i++)
					{
						echo "annual units genertated ".$finalx." and unit cost is ".$unit_cost." ";  //annual units generated and unit rate
						$savings = $finalx * $unit_cost;
						echo "Savings in electricity bill ".($i+1)." is ".$savings." "; 			//Savings in electricity bill
						$total_new = 0.8 * $total;
						$yearly_dep[$i] = $total_new;
						$yearly_dep[$i] = 0.3 * $yearly_dep[$i];
						echo "Income tax benifit for year ".($i+1)." is ".$yearly_dep[$i]." ";	//Income tax benifit
						$benifits[$i] = $savings + $yearly_dep[$i];
						echo "Total benifit ".$benifits[$i]."<br>";
						$t_benifit = $t_benifit + $benifits[$i];
						$finalx = $finalx - ($finalx * 0.01);
						$unit_cost = $unit_cost + ($unit_cost * 0.1);
						$total = $total - $total_new;
						if($t_benifit>=$t_condition)
						{
							$breakeven = ($i+1);
							echo "Breakeven years : ".($i+1);
						}
						
					}

					$display_t_benifit = $t_benifit;
					//for adding commas in total
					setlocale(LC_MONETARY, 'en_IN');
					$display_t_benifit = money_format('%!i', $display_t_benifit);
					echo "<br><br>Cummulative Benifits for ".$breakeven." years is: ".$display_t_benifit."<br><br>";







				}
				else
				{
					echo $inverter_name." is not available for ".$solar_type."<br>Please try again with some other inverter";
				}

			}
			else
			{
				echo "<br><br>Please try again with some other inputs ";
			}



		}
		?>
		<script type="text/javascript">
			$(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal-trigger').leanModal();
    
});

</script>
</body>
</html>	